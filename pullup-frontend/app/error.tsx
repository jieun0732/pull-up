"use client";

import { useEffect } from "react";
import { useRouter } from "next/navigation";
import Text from "./component/ui/Text";

export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  const router = useRouter();
  useEffect(() => {
    // Log the error to an error reporting service
    console.error("Error page error입니다", error);
  }, [error]);

  if (error.message.includes("Network Error")) {
    return (
      <div className="flex h-full w-full flex-col items-center justify-center bg-white">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="84"
          height="83"
          viewBox="0 0 84 83"
          fill="none"
        >
          <path
            d="M26.4375 28.5312C26.4375 25.1594 27.5736 21.2221 30.0662 18.177C32.4913 15.2149 36.2912 12.9688 42 12.9688C45.3719 12.9688 49.3092 14.1074 52.3543 16.5974C55.3163 19.0226 57.5625 22.8224 57.5625 28.5312C57.5625 29.2192 57.8358 29.8789 58.3222 30.3653C58.8086 30.8517 59.4683 31.125 60.1562 31.125C63.5178 31.125 66.8403 32.2247 69.2707 34.1026C71.1875 35.5811 72.5051 37.4978 72.9538 39.7492C74.8955 41.2196 76.5951 42.9848 77.9909 44.9808C78.2053 43.8638 78.3125 42.7035 78.3125 41.5C78.3125 36.6082 75.8822 32.6553 72.4403 29.9967C69.6727 27.8569 66.2075 26.5133 62.6359 26.0853C62.0523 20.0704 59.3237 15.5988 55.6379 12.5823C51.5502 9.23634 46.4094 7.78125 42 7.78125C34.7375 7.78125 29.4618 10.7226 26.051 14.8933C23.3146 18.2367 21.844 22.2855 21.3978 26.0594C10.6934 27.1566 5.6875 35.3891 5.6875 41.5C5.6875 44.4698 6.42412 48.4123 9.24612 51.639C12.133 54.933 16.8199 57.0625 23.8438 57.0625H35.5519C35.6505 55.2728 35.9488 53.535 36.4286 51.875H23.8438C17.8963 51.875 14.8045 50.1112 13.1523 48.223C11.4352 46.2621 10.875 43.7177 10.875 41.5C10.875 37.682 14.444 31.125 23.8438 31.125C24.5317 31.125 25.1914 30.8517 25.6778 30.3653C26.1642 29.8789 26.4375 29.2192 26.4375 28.5312ZM78.3125 58.3594C78.3125 53.2001 76.263 48.2521 72.6148 44.6039C68.9666 40.9558 64.0187 38.9062 58.8594 38.9062C53.7001 38.9062 48.7521 40.9558 45.1039 44.6039C41.4558 48.2521 39.4063 53.2001 39.4062 58.3594C39.4063 63.5187 41.4558 68.4666 45.1039 72.1148C48.7521 75.763 53.7001 77.8125 58.8594 77.8125C64.0187 77.8125 68.9666 75.763 72.6148 72.1148C76.263 68.4666 78.3125 63.5187 78.3125 58.3594ZM60.8047 47.3359V61.6016C60.8047 62.1175 60.5997 62.6123 60.2349 62.9771C59.8701 63.3419 59.3753 63.5469 58.8594 63.5469C58.3434 63.5469 57.8486 63.3419 57.4838 62.9771C57.119 62.6123 56.9141 62.1175 56.9141 61.6016V47.3359C56.9141 46.82 57.119 46.3252 57.4838 45.9604C57.8486 45.5956 58.3434 45.3906 58.8594 45.3906C59.3753 45.3906 59.8701 45.5956 60.2349 45.9604C60.5997 46.3252 60.8047 46.82 60.8047 47.3359ZM61.4531 68.7344C61.4531 69.4223 61.1799 70.082 60.6934 70.5684C60.207 71.0549 59.5473 71.3281 58.8594 71.3281C58.1715 71.3281 57.5117 71.0549 57.0253 70.5684C56.5389 70.082 56.2656 69.4223 56.2656 68.7344C56.2656 68.0465 56.5389 67.3867 57.0253 66.9003C57.5117 66.4139 58.1715 66.1406 58.8594 66.1406C59.5473 66.1406 60.207 66.4139 60.6934 66.9003C61.1799 67.3867 61.4531 68.0465 61.4531 68.7344Z"
            fill="#D4DEE8"
          />
        </svg>
        <h1 className="mb-1 mt-2 text-xl font-bold text-black01">
          잠시 연결이 불안해요
        </h1>
        <Text size="body-04" className="text-gray01">
          네트워크 설정을 확인해주세요
        </Text>
        <button
          className="mt-7 rounded-xl bg-blue01 px-5 py-2 text-white"
          onClick={() => window.location.reload()}
        >
          새로고침
        </button>
      </div>
    );
  }

  return (
    <div className="flex h-full w-full flex-col items-center justify-center bg-white">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="84"
        height="83"
        viewBox="0 0 84 83"
        fill="none"
      >
        <path
          d="M26.4375 28.5312C26.4375 25.1594 27.5736 21.2221 30.0662 18.177C32.4913 15.2149 36.2912 12.9688 42 12.9688C45.3719 12.9688 49.3092 14.1074 52.3543 16.5974C55.3163 19.0226 57.5625 22.8224 57.5625 28.5312C57.5625 29.2192 57.8358 29.8789 58.3222 30.3653C58.8086 30.8517 59.4683 31.125 60.1562 31.125C63.5178 31.125 66.8403 32.2247 69.2707 34.1026C71.1875 35.5811 72.5051 37.4978 72.9538 39.7492C74.8955 41.2196 76.5951 42.9848 77.9909 44.9808C78.2053 43.8638 78.3125 42.7035 78.3125 41.5C78.3125 36.6082 75.8822 32.6553 72.4403 29.9967C69.6727 27.8569 66.2075 26.5133 62.6359 26.0853C62.0523 20.0704 59.3237 15.5988 55.6379 12.5823C51.5502 9.23634 46.4094 7.78125 42 7.78125C34.7375 7.78125 29.4618 10.7226 26.051 14.8933C23.3146 18.2367 21.844 22.2855 21.3978 26.0594C10.6934 27.1566 5.6875 35.3891 5.6875 41.5C5.6875 44.4698 6.42412 48.4123 9.24612 51.639C12.133 54.933 16.8199 57.0625 23.8438 57.0625H35.5519C35.6505 55.2728 35.9488 53.535 36.4286 51.875H23.8438C17.8963 51.875 14.8045 50.1112 13.1523 48.223C11.4352 46.2621 10.875 43.7177 10.875 41.5C10.875 37.682 14.444 31.125 23.8438 31.125C24.5317 31.125 25.1914 30.8517 25.6778 30.3653C26.1642 29.8789 26.4375 29.2192 26.4375 28.5312ZM78.3125 58.3594C78.3125 53.2001 76.263 48.2521 72.6148 44.6039C68.9666 40.9558 64.0187 38.9062 58.8594 38.9062C53.7001 38.9062 48.7521 40.9558 45.1039 44.6039C41.4558 48.2521 39.4063 53.2001 39.4062 58.3594C39.4063 63.5187 41.4558 68.4666 45.1039 72.1148C48.7521 75.763 53.7001 77.8125 58.8594 77.8125C64.0187 77.8125 68.9666 75.763 72.6148 72.1148C76.263 68.4666 78.3125 63.5187 78.3125 58.3594ZM60.8047 47.3359V61.6016C60.8047 62.1175 60.5997 62.6123 60.2349 62.9771C59.8701 63.3419 59.3753 63.5469 58.8594 63.5469C58.3434 63.5469 57.8486 63.3419 57.4838 62.9771C57.119 62.6123 56.9141 62.1175 56.9141 61.6016V47.3359C56.9141 46.82 57.119 46.3252 57.4838 45.9604C57.8486 45.5956 58.3434 45.3906 58.8594 45.3906C59.3753 45.3906 59.8701 45.5956 60.2349 45.9604C60.5997 46.3252 60.8047 46.82 60.8047 47.3359ZM61.4531 68.7344C61.4531 69.4223 61.1799 70.082 60.6934 70.5684C60.207 71.0549 59.5473 71.3281 58.8594 71.3281C58.1715 71.3281 57.5117 71.0549 57.0253 70.5684C56.5389 70.082 56.2656 69.4223 56.2656 68.7344C56.2656 68.0465 56.5389 67.3867 57.0253 66.9003C57.5117 66.4139 58.1715 66.1406 58.8594 66.1406C59.5473 66.1406 60.207 66.4139 60.6934 66.9003C61.1799 67.3867 61.4531 68.0465 61.4531 68.7344Z"
          fill="#D4DEE8"
        />
      </svg>
      <h1 className="mb-1 mt-2 text-xl font-bold text-black01">
        서버에 문제가 생겼어요
      </h1>
      <Text size="body-04" className="text-gray01">
        일시적인 서버오류로 새로고침이 필요해요
      </Text>
      <button
        className="mt-7 rounded-xl bg-blue01 px-5 py-2 text-white"
        onClick={() => router.push("/s")}
      >
        이전으로 돌아가기
      </button>
    </div>
  );
}
